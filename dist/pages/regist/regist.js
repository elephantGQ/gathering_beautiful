"use strict";require(["../../static/conf/config.js"],function(){require(["jquery","lodash"],function(n,e){var a=!1,t=!1,i=!1,o=!1;n("input").on("focusin",function(){n(this).parent().parent().children(".error").hide(),n(this).parent().parent().children(".error1").hide(),n(this).parent().parent().children(".focus_text").show(),n(this).parent().parent().css({"box-shadow":"0 0 4px rgba(165,212,237,.075)"})}),n("input").on("focusout",function(){n(this).parent().parent().children(".focus_text").hide(),n(this).parent().parent().css({"box-shadow":"0"})}),n("#telPhone").blur(function(e){var r=this;if(/\d{11}/.test(n("#telPhone").val())||""==n(this).val()){var t=JSON.parse(localStorage.getItem("user"));t&&t.forEach(function(e){e.tel==n("#telPhone").val()?(a=!0,n(r).parent().parent().children(".error").hide(),n(r).parent().parent().children(".error1").show()):a=!1}),a=!1}else a=!0,n(this).parent().parent().children(".error1").hide(),n(this).parent().parent().children(".error").show()}),n("#code").blur(function(e){/[a-zA-Z0-9]{6}/.test(n("#telPhone").val())||""==n(this).val()?t=!1:(t=!0,n(this).parent().parent().children(".error").show())}),n("#pwd").blur(function(e){/.{6,}/.test(n("#pwd").val())||""==n(this).val()?i=!1:(i=!0,n(this).parent().parent().children(".error").hide(),n(this).parent().parent().children(".error1").show()),/^(?:\d*|[a-zA-Z]*|[\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]*)$/.test(n("#pwd").val())&&""!=n(this).val()?(i=!0,n(this).parent().parent().children(".error1").hide(),n(this).parent().parent().children(".error").show()):i=!1}),n("#pwdAgain").blur(function(e){n("#pwdAgain").val()!=n("#pwd").val()&&""!=n(this).val()?(o=!0,n(this).parent().parent().children(".error").show()):o=!1}),n("#submitButton").click(function(){if(""==n("#telPhone").val()||""==n("#pwd").val()||""==n("#pwdAgain").val()||""==n("#code").val())alert("还有未填入的信息");else if(a||t||i||o)alert("还有未按要求输入的信息");else{console.log("开始注册");var e=JSON.parse(function(e){var r=document.cookie;if(!r)return null;var t=new RegExp(e+"=([^;]+)$"),n=new RegExp(e+"=([^;]+);");return t.test(r)?r.match(t)[1]:r.match(n)[1]}("user"));console.log(e);var r=[];e&&e.forEach(function(e){r.push(e)}),r.push({tel:n("#telPhone").val(),pwd:n("#pwd").val()}),localStorage.setItem("user",JSON.stringify(r)),console.log("写入完成")}})})});