"use strict";require(["../../static/conf/config.js"],function(){require(["jquery","lodash"],function(s,t){var e=JSON.parse(localStorage.getItem("cart")),r=t.template(s("#temp_product").text())({data:e});s("#myProduct").html(r),console.log(s(".decrease_one")),s(".decrease_one").click(function(){var e=this,t=Number(s(this).siblings(".item_quantity").val());t--,s(this).siblings(".item_quantity").val(t);var r=JSON.parse(localStorage.getItem("cart")),a=JSON.parse(localStorage.getItem("productAccount"));a--,localStorage.setItem("productAccount",a);var i=[],o=s(this).parent().parent().parent().siblings(":first").find(".pid").html();console.log(o),r.forEach(function(t){t.pid==o&&t.count--,0!=t.count&&i.push(t),0==t.count&&s(e).parent().parent().parent().parent().remove()}),localStorage.setItem("cart",JSON.stringify(i));var n=Number(s(".decrease_one:first").parent().parent().parent().siblings().eq(1).find(".jumei_price").html()),l=Number(s(".total_price").html());s(".total_price").html(l-n),s(".group_total_price").html("￥"+s(".total_price").html()),console.log(n);var c=Number(s(".total_amount").html());s(".total_amount").html(--c)}),s(".increase_one").click(function(){var t=Number(s(this).siblings(".item_quantity").val());t++,s(this).siblings(".item_quantity").val(t);var e=JSON.parse(localStorage.getItem("cart")),r=JSON.parse(localStorage.getItem("productAccount"));r++,localStorage.setItem("productAccount",r);var a=[],i=s(this).parent().parent().parent().siblings(":first").find(".pid").html();e.forEach(function(t){t.pid==i&&t.count++,a.push(t)}),localStorage.setItem("cart",JSON.stringify(a));var o=Number(s(".decrease_one:first").parent().parent().parent().siblings().eq(1).find(".jumei_price").html()),n=Number(s(".total_price").html());s(".total_price").html(n+o),s(".group_total_price").html("￥"+s(".total_price").html());var l=Number(s(".total_amount").html());s(".total_amount").html(++l)}),s(".delete_item").click(function(){var t=JSON.parse(localStorage.getItem("cart")),e=[],r=s(this).parent().parent().parent().siblings(":first").find(".pid").html();t.forEach(function(t){t.pid!=r&&e.push(t)}),localStorage.setItem("cart",JSON.stringify(e)),console.log(s(this).parent().parent().siblings().eq(1).find(".jumei_price").html());var a=Number(s(this).parent().parent().siblings().eq(1).find(".jumei_price").html()),i=s(this).parent().parent().siblings().eq(2).find(".item_quantity").val(),o=Number(s(".total_price").html());s(this).parent().parent().parent().remove(),s(".total_price").html(o-a*i),s(".group_total_price").html("￥"+s(".total_price").html()),localStorage.setItem("productAccount",localStorage.getItem("productAccount")-i)})})});